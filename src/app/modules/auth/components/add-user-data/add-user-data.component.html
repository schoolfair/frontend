<section>
  <div class="flex flex-col items-center justify-center w-screen px-6 py-8 mx-auto mt-6 lg:py-0">
    <div class="w-full rounded-lg shadow dark:border md:mt-0 sm:max-w-md xl:p-0">
          <h1 class="!mt-2 !ml-2 text-xl font-bold leading-tight tracking-tight text-gray-900 md:text-2xl">
              Complete Your Profile
          </h1>

            <mat-stepper [linear]="true">
              <mat-step [stepControl]="roleFormGroup">
                <form [formGroup]="roleFormGroup">
                  <ng-template matStepLabel>Role</ng-template>
                  <label id="text-gray-900">I am a...</label>
                  <div class="mt-4 ml-4">
                    <mat-radio-group
                      aria-labelledby="example-radio-group-label"
                      class="example-radio-group" formControlName="role">
                      <mat-radio-button class="ml-4 text-gray-900" [value]="'student'">Student</mat-radio-button>
                      <mat-radio-button class="ml-4 text-gray-900" [value]="'employer'">Employer</mat-radio-button>
                    </mat-radio-group>
                  </div>
                </form>
                <div class="flex flex-row justify-end">
                  <button class="mt-4" mat-button matStepperNext [disabled]="roleControl?.pristine">Next</button>
                </div>
              </mat-step>
              <mat-step>
                <form [formGroup]="userDataFormGroup">

                  <!-- Name -->

                  <mat-form-field class="inline-block mt-2 mr-2">
                    <mat-label>First Name</mat-label>
                    <input matInput formControlName="firstName" />
                    <mat-error>{{errorMessage('firstName')}}</mat-error>
                  </mat-form-field>

                  <mat-form-field class="inline-block mt-2">
                    <mat-label>Last Name</mat-label>
                    <input matInput formControlName="lastName" />
                    <mat-error>{{errorMessage('lastName')}}</mat-error>
                  </mat-form-field>

                  <mat-form-field class="mr-2">
                    <mat-label>Preferred Name</mat-label>
                    <input matInput formControlName="preferredName" />
                    <mat-error>{{errorMessage('preferredName')}}</mat-error>
                  </mat-form-field>

                  <mat-form-field class="mt-4 mr-2 ">
                    <mat-label>Zipcode</mat-label>
                    <input #zipcode matInput formControlName="zipcode" />
                    <mat-hint>For finding people in your area.  {{zipcode.value.length}} / 5</mat-hint>
                  </mat-form-field>

                  <div class="text-right">
                    <button class="mt-4" mat-button matStepperNext>Next</button>
                  </div>
                </form>
              </mat-step>
              <mat-step>
                <div *ngIf="role === 'student'">
                  <app-student-data [userDataFormGroup]="userDataFormGroup"></app-student-data>
                </div>
                <div *ngIf="role === 'employer'">
                  <app-employer-data [userDataFormGroup]="userDataFormGroup"></app-employer-data>
                </div>
              </mat-step>
            </mat-stepper>
      </div>
  </div>
</section>
